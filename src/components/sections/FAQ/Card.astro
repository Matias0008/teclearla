---
import Paragraph from "@components/ui/Paragraph.astro";
import { format } from "@utils/formatAmount";

interface Props {
  title: string;
  price: number;
  description?: string;
  features: string[];
  bestValue: boolean;
}

const { description, title, price, features, bestValue } = Astro.props;
---

<div
  class="bg-[#0e1820] border-1 border-[#d2e5f6] col-span-1 rounded-xl text-center flex flex-col gap-6 items-center py-12 px-6 pricing-card relative"
>
  {bestValue && <div class="badge">Más vendido</div>}
  <h1 class="text-white text-2xl font-title">{title}</h1>
  <Paragraph addClass="max-w-[50ch] opacity-85">{description}</Paragraph>
  <h2
    class="font-black text-3xl flex items-center justify-center gap-3 flex-wrap mt-auto text-[#f0f0f0] font-title"
  >
    <span class="text-xl font-normal">Desde</span>{" "}
    {format(price)} USD
  </h2>
  <!-- <div class="flex flex-col gap-4">
    {
      features.map((feature) => (
        <div class="flex gap-4 items-center">
          <CheckIcon />
          <p
            class="text-md md:text-lg font-bold"
            style="color: rgb(26, 37, 48)"
          >
            {feature}
          </p>
        </div>
      ))
    }
  </div> -->
</div>

<style>
  @tailwind components;

  .badge {
    @apply font-title;
    position: absolute;
    top: 20px;
    left: 10px;
    background-color: #1a2530;
    color: #ffffff;
    border: 5px solid red;
    padding: 5px 10px;
    border-radius: 5px;
    transform: rotate(-20deg); /* Rotación para el efecto 3D */
    transform-origin: left top; /* Punto de origen para la rotación */
    z-index: 1; /* Asegura que la insignia esté sobre el contenido de la tarjeta */
  }

  /* Efecto de sombra para la insignia */
  .badge::before {
    content: "";
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    height: 10px;
    background: rgba(0, 0, 0, 0.1); /* Color de la sombra */
  }
</style>
